/*! Drop v10.0.0 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/drop */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.drop=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n={},o="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),s={selectorDropdown:"[data-dropdown]",selectorMenu:"[data-dropdown-menu]",toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-drop",noJSClass:"no-js-drop",callback:function(){}},l=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var s=0,l=e.length;l>s;s++)t.call(n,e[s],s,e)},c=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var s=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=buoy.extend(!0,e[o],n[o]):e[o]=n[o])};o>n;n++){var l=arguments[n];s(l)}return e},r=function(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t},i=function(e,t){var n,o,s=t.charAt(0),l="classList"in document.documentElement;for("["===s&&(t=t.substr(1,t.length-2),n=t.split("="),n.length>1&&(o=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===s)if(l){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===s&&e.id===t.substr(1))return e;if("["===s&&e.hasAttribute(n[0])){if(!o)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};n.toggleDrop=function(e,t,n){var o=c(o||s,t||{}),i=e.nextElementSibling,a=e.parentNode,u=r(a);e.classList.toggle(o.toggleActiveClass),i.classList.toggle(o.contentActiveClass),a.classList.toggle(o.toggleActiveClass),l(u,function(e){var t=e.children;e.classList.remove(o.toggleActiveClass),l(t,function(e){e.classList.remove(o.contentActiveClass)})}),o.callback(e)},n.closeDrops=function(){var e=document.querySelectorAll(t.selectorDropdown+" > a."+t.toggleActiveClass),n=document.querySelectorAll(t.selectorDropdown+"."+t.toggleActiveClass),o=document.querySelectorAll(t.selectorMenu+"."+t.contentActiveClass);(e.length>0||n.length>0||o.length>0)&&(l(e,function(e){e.classList.remove(t.toggleActiveClass)}),l(n,function(e){e.classList.remove(t.toggleActiveClass)}),l(o,function(e){e.classList.remove(t.contentActiveClass)}),t.callback())};var a=function(e){var o=e.target;i(o,t.selectorMenu);o!==document.documentElement&&i(o,t.selectorMenu)||(o!==document.documentElement&&i(o,t.selectorDropdown)?(e.preventDefault(),n.toggleDrop(o,t)):n.closeDrops())};return n.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",a,!1),n.closeDrops(),t=null)},n.init=function(e){if(o){n.destroy(),t=c(s,e||{});var l=document.querySelector("."+t.noJSClass);l&&l.classList.remove(t.noJSClass),document.documentElement.classList.add(t.initClass),document.addEventListener("click",a,!1)}},n});
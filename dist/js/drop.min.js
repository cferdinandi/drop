/*! Drop v9.1.0 | (c) 2015 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/drop */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.drop=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,o={},n={selectorDropdown:"[data-dropdown]",selectorMenu:"[data-dropdown-menu]",toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-drop",callback:function(){}},s=function(e,t,o){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(o,e[n],n,e);else for(var s=0,l=e.length;l>s;s++)t.call(o,e[s],s,e)},l=function(){var e={},t=!1,o=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var s=function(o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t&&"[object Object]"===Object.prototype.toString.call(o[n])?e[n]=buoy.extend(!0,e[n],o[n]):e[n]=o[n])};n>o;o++){var l=arguments[o];s(l)}return e},c=function(e){for(var t=[],o=e.parentNode.firstChild;o;o=o.nextSibling)1===o.nodeType&&o!==e&&t.push(o);return t},r=function(e,t){var o,n,s=t.charAt(0),l="classList"in document.documentElement;for("["===s&&(t=t.substr(1,t.length-2),o=t.split("="),o.length>1&&(n=!0,o[1]=o[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===s)if(l){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===s&&e.id===t.substr(1))return e;if("["===s&&e.hasAttribute(o[0])){if(!n)return e;if(e.getAttribute(o[0])===o[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};o.toggleDrop=function(e,t,o){var r=l(r||n,t||{}),i=e.nextElementSibling,a=e.parentNode,u=c(a);e.classList.toggle(r.toggleActiveClass),i.classList.toggle(r.contentActiveClass),a.classList.toggle(r.toggleActiveClass),s(u,function(e){var t=e.children;e.classList.remove(r.toggleActiveClass),s(t,function(e){e.classList.remove(r.contentActiveClass)})}),r.callback(e)},o.closeDrops=function(){var e=document.querySelectorAll(t.selectorDropdown+" > a."+t.toggleActiveClass),o=document.querySelectorAll(t.selectorDropdown+"."+t.toggleActiveClass),n=document.querySelectorAll(t.selectorMenu+"."+t.contentActiveClass);(e.length>0||o.length>0||n.length>0)&&(s(e,function(e){e.classList.remove(t.toggleActiveClass)}),s(o,function(e){e.classList.remove(t.toggleActiveClass)}),s(n,function(e){e.classList.remove(t.contentActiveClass)}),t.callback())};var i=function(e){var n=e.target,s=r(n,t.selectorMenu);(!s||n===document.documentElement||r(n.parentNode,t.selectorDropdown))&&(n!==document.documentElement&&r(n,t.selectorDropdown)?(e.preventDefault(),o.toggleDrop(n,t)):o.closeDrops())};return o.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",i,!1),o.closeDrops(),t=null)},o.init=function(e){o.destroy(),t=l(n,e||{}),document.documentElement.classList.add(t.initClass),document.addEventListener("click",i,!1)},o});
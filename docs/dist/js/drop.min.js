/*! Drop v11.0.2 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/drop */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.drop=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n={},o="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),r="ontouchstart"in document,s={selector:"[data-dropdown]",menu:"[data-dropdown-menu]",activeClass:"active",initClass:"js-drop",callback:function(){}},c=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var r=0,s=e.length;s>r;r++)t.call(n,e[r],r,e)},a=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var r=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=buoy.extend(!0,e[o],n[o]):e[o]=n[o])};o>n;n++){var s=arguments[n];r(s)}return e},i=function(e,t){var n,o,r=t.charAt(0),s="classList"in document.documentElement;for("["===r&&(t=t.substr(1,t.length-2),n=t.split("="),n.length>1&&(o=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===r)if(s){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===r&&e.id===t.substr(1))return e;if("["===r&&e.hasAttribute(n[0])){if(!o)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};n.closeDrops=function(){var e=document.querySelectorAll(t.selector);c(e,function(e){e.classList.remove(t.activeClass)})},n.openDrop=function(e,t){var o=a(o||s,t||{});n.closeDrops(),e.classList.add(o.activeClass),o.callback(e)};var l=function(e){var o=e.target,r=i(o,t.selector);r||n.closeDrops()},u=function(e){var o=e.target,r=i(o,t.selector);return r?void(r.classList.contains(t.activeClass)||n.openDrop(r,t)):void n.closeDrops()},d=function(e){var o=e.target,s=i(o,t.selector),c=i(o,t.menu);s&&!s.classList.contains(t.activeClass)&&(n.openDrop(s,t),r&&!c&&e.preventDefault())};return n.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",l,!1),document.removeEventListener("focusin",u,!1),document.removeEventListener("mouseover",d,!1),n.closeDrops(),t=null)},n.init=function(e){if(o){n.destroy(),t=a(s,e||{});document.querySelectorAll(t.selector+" > a");document.documentElement.classList.add(t.initClass),document.addEventListener("click",l,!1),document.addEventListener("focusin",u,!1),document.addEventListener("mouseover",d,!1),r&&document.addEventListener("touchstart",d,!1)}},n});